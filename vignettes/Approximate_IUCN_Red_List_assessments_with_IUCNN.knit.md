---
title: "Approximate_IUCN_Red_List_assessments_with_IUCNN"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Approximate_IUCN_Red_List_assessments_with_IUCNN}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---



# Introduction
The conservation assessments of the Global Red List of the INternational Union for the COnservation of nature (www.iucn.org), are arguably one of the most thorough and widely used tools to assess the global extinction risk of species. However, IUCN assessments---usually performed by a group of specialists for each taxonomic group, or professional assessors---are time and data intense, and therefore a large fraction of global plant and animal species have not yet been evaluated. IUCNN implements neural networks to predict the IUCN status of so far not evaluated or data deficient species based on publicly available geographic distribution and environmental data and existing red lists from other species. A typical application example are to predict conservation status of some plant species using all evaluated species in the same family as training data.



```r
library(IUCNN)
library(magrittr)
library(dplyr)
#> 
#> Attaching package: 'dplyr'
#> The following objects are masked from 'package:stats':
#> 
#>     filter, lag
#> The following objects are masked from 'package:base':
#> 
#>     intersect, setdiff, setequal, union
```

# Installation
IUCNN uses R and python, so multiple steps are necessary to install IUCNN.

1. install IUCNN directly from Github using devtools. 

```r
install.packages("devtools")
library(devtools)

install_github("azizka/IUCNN")
```

2. Python needs to be installed, for instance using miniconda and reticulated from within R (this will need c. 3 GB disk space).
If problems occur at this step, check the excellent [documentation of reticulate](https://rstudio.github.io/reticulate/index.html).

```r
install.packages(reticulate)
library(reticulate)
install_miniconda()
```
If python has been installed before, you can specify the python version to sue with `reticulate::use_python()`


3. Install the tensorflow module

```r
reticulate::py_install("tensorflow==2.0.0", pip = TRUE)
```

# Usage
## Input data
IUCNN predicts the IUCN Global Red List assessment categories of Not Evaluated and Data Deficient species based on geographic occurrence records and a set of training species for which occurrence records and IUCN assessments are available (training data). The amount of training species necessary varies with the number of categories but in general "the more, the better". Ideally, the training dataset should comprise several hundred species, so a typical scenario will be to use all available plant species from a region, or all available species from a plant family. If the availability of training species is limited, a good option can be to predict possibly threatened (IUCN categories "CR", "EN", and "VU") vs. not threatened species ("NT" and "LC").

Hence, three types of input are necessary, which are easily available for many species: 

### 1. Geographic occurrence ecords of training species (training occurrences)
Occurrence records might stem from a variety of databases, For example, from field collections or public databases such BIEN (https://bien.nceas.ucsb.edu/bien/) or GBIF (www.gbif.org). GBIF data can be obtained from within R via the rbif package, See [here](https://ropensci.org/tutorials/rgbif_tutorial/) for a tutorial on how to do so. IUCNN needs a dataset with (at least) three columns, containing the species name, decimal longitude coordinates and decimal latitude coordinates.

### 2. IUCN Global Red List assessment of the training species (training labels)
THese can be obtained from IUCN, either via the webpage www.iucn.org or via the rredlist package from inside R (preferred for many species). See [here](https://ropensci.org/tutorials/rredlist_tutorial/) for a tutorial on how to use rredlist. It is important, that all target label classes are well represented in the training data, which is rarely the case for IUCN data, since for instance "VU" is rare. If the classes are to imbalance, consider using possibly threatened (IUCN categories "CR", "EN", and "VU") vs. not threatened species ("NT" and "LC").

### 3. Geographic occurrence records of the species for which the IUCN status should be predicted (predict occurrences)
Geographic occurrence for the target species, in the same format as for the training occurrences above.

Example dataset are available with IUCNN: `data(training_occ)` (training occurrences), `data(labels_detail)` (training labels) and `data(prediction_occ)`.

## Feature and label ppreparation
IUCNN uses sets of per species traits ("features"). Necessary is an input data.frame, with a species column, and then numerical columns indicating the feature values for each species. In general, features might represent any species trait, including from taxonomy (family), anatomy (body size), ecology (e.g., feeding guild) or conservation (e. g., population dynamics). Any of these features can be provided to IUCNN. However, since most of these data are scarce for many taxonomic groups, in most cases features will be based on geographic occurrences and auxiliary data alone. The IUCNN package contains convenience functions to obtain geographic features (number of occurrences, number of unique occurrences, mean latitude, mean longitude, latitudinal range, longitudinal range, the extend of occurrence, the area of occupancy and hemisphere), climatic features (median values per species from 19 bioclim variables from www.worldclim.org) and biome features (presence in global biomes from the [WWF](https://www.worldwildlife.org/publications/terrestrial-ecoregions-of-the-world)) based on occurrence records. In this tutorial, we will use the example datasets from the Orchid family (Orchidaceae) provided with the IUCNN package, 



```r
data("training_occ") #geographic occurrences of species with IUCN assessment
data("prediction_occ")

# prepare features for training data
geo <- geo_features(training_occ) #geographic
#> [1] "Processing Liparis ambohimangana"
#> [1] "Processing Liparis bautingensis"
#> [1] "Processing Liparis bulbophylloides"
#> [1] "Processing Liparis glaucescens"
#> [1] "Processing Liparis goodyeroides"
#> [1] "Processing Liparis henrici"
#> [1] "Processing Liparis longicaulis"
#> [1] "Processing Liparis longipetala"
#> [1] "Processing Liparis petelotii"
#> [1] "Processing Liparis philippinensis"
#> [1] "Processing Liparis puncticulata"
#> [1] "Processing Benthamia calceolata"
#> [1] "Processing Liparis swenssonii"
#> [1] "Processing Benthamia elata"
#> [1] "Processing Benthamia glaberrima"
#> [1] "Processing Lueddemannia pescatorei"
#> [1] "Processing Benthamia humbertii"
#> [1] "Processing Macradenia paraensis"
#> [1] "Processing Benthamia monophylla"
#> [1] "Processing Benthamia nigrescens"
#> [1] "Processing Malaxis bayardii"
#> [1] "Processing Malaxis brachystachys"
#> [1] "Processing Benthamia nivea"
#> [1] "Processing Benthamia perularioides"
#> [1] "Processing Malaxis javesiae"
#> [1] "Processing Benthamia praecox"
#> [1] "Processing Malaxis lepanthiflora"
#> [1] "Processing Benthamia procera"
#> [1] "Processing Benthamia rostrata"
#> [1] "Processing Malaxis muscifera"
#> [1] "Processing Malaxis wendtii"
#> [1] "Processing Masdevallia notosibirica"
#> [1] "Processing Masdevallia strumifera"
#> [1] "Processing Maxillaria angustisegmenta"
#> [1] "Processing Bletia ensifolia"
#> [1] "Processing Microcoelia bulbocalcarata"
#> [1] "Processing Brachionidium dressleri"
#> [1] "Processing Myrmecophila thomsoniana"
#> [1] "Processing Mystacidium nguruense"
#> [1] "Processing Mystacidium pulchellum"
#> [1] "Processing Neobolusia ciliata"
#> [1] "Processing Neottia acuminata"
#> [1] "Processing Neottia cordata"
#> [1] "Processing Neottia nidus-avis"
#> [1] "Processing Brachionidium pteroglossum"
#> [1] "Processing Brachycorythis disoides"
#> [1] "Processing Oeceoclades maculata"
#> [1] "Processing Oeonia brauniana"
#> [1] "Processing Oligophyton drummondii"
#> [1] "Processing Oncidium dactyliferum"
#> [1] "Processing Oncidium ensatum"
#> [1] "Processing Oncidium hastilabium"
#> [1] "Processing Oncidium planilabre"
#> [1] "Processing Ophrys argolica"
#> [1] "Processing Ophrys atlantica"
#> [1] "Processing Ophrys bertolonii"
#> [1] "Processing Ophrys insectifera"
#> [1] "Processing Ophrys kotschyi"
#> [1] "Processing Ophrys lunulata"
#> [1] "Processing Orchis brancifortii"
#> [1] "Processing Orchis laeta"
#> [1] "Processing Orchis pauciflora"
#> [1] "Processing Orchis quadripunctata"
#> [1] "Processing Orchis sitiaca"
#> [1] "Processing Oreorchis oligantha"
#> [1] "Processing Orleanesia amazonica"
#> [1] "Processing Acianthera saundersiana"
#> [1] "Processing Pachyplectron arifolium"
#> [1] "Processing Palmorchis imuyaensis"
#> [1] "Processing Palmorchis trilobulata"
#> [1] "Processing Panisea yunnanensis"
#> [1] "Processing Paphiopedilum appletonianum"
#> [1] "Processing Paphiopedilum armeniacum"
#> [1] "Processing Paphiopedilum barbigerum"
#> [1] "Processing Paphiopedilum bellatulum"
#> [1] "Processing Paphiopedilum bullenianum"
#> [1] "Processing Paphiopedilum concolor"
#> [1] "Processing Paphiopedilum dianthum"
#> [1] "Processing Paphiopedilum emersonii"
#> [1] "Processing Paphiopedilum glanduliferum"
#> [1] "Processing Paphiopedilum godefroyae"
#> [1] "Processing Paphiopedilum gratrixianum"
#> [1] "Processing Paphiopedilum hangianum"
#> [1] "Processing Paphiopedilum haynaldianum"
#> [1] "Processing Paphiopedilum helenae"
#> [1] "Processing Paphiopedilum henryanum"
#> [1] "Processing Paphiopedilum hirsutissimum"
#> [1] "Processing Paphiopedilum hookerae"
#> [1] "Processing Paphiopedilum insigne"
#> [1] "Processing Paphiopedilum javanicum"
#> [1] "Processing Paphiopedilum lowii"
#> [1] "Processing Paphiopedilum malipoense"
#> [1] "Processing Paphiopedilum micranthum"
#> [1] "Processing Paphiopedilum niveum"
#> [1] "Processing Paphiopedilum parishii"
#> [1] "Processing Paphiopedilum purpuratum"
#> [1] "Processing Paphiopedilum rothschildianum"
#> [1] "Processing Paphiopedilum sanderianum"
#> [1] "Processing Paphiopedilum schoseri"
#> [1] "Processing Paphiopedilum stonei"
#> [1] "Processing Paphiopedilum supardii"
#> [1] "Processing Paphiopedilum tonsum"
#> [1] "Processing Paphiopedilum victoria-regina"
#> [1] "Processing Paphiopedilum vietnamense"
#> [1] "Processing Paphiopedilum villosum"
#> [1] "Processing Paphiopedilum violascens"
#> [1] "Processing Paphiopedilum wilhelminae"
#> [1] "Processing Pedilochilus papuanus"
#> [1] "Processing Pelexia orthosepala"
#> [1] "Processing Peristylus aristatus"
#> [1] "Processing Brassia lanceana"
#> [1] "Processing Brassia maculata"
#> [1] "Processing Phalaenopsis violacea"
#> [1] "Processing Pholidota camelostalix"
#> [1] "Processing Pholidota chinensis"
#> [1] "Processing Pholidota globosa"
#> [1] "Processing Phragmipedium besseae"
#> [1] "Processing Phragmipedium boissierianum"
#> [1] "Processing Phragmipedium caricinum"
#> [1] "Processing Phragmipedium caudatum"
#> [1] "Processing Phragmipedium hirtzii"
#> [1] "Processing Phragmipedium humboldtii"
#> [1] "Processing Brassia verrucosa"
#> [1] "Processing Phragmipedium klotzschianum"
#> [1] "Processing Phragmipedium lindenii"
#> [1] "Processing Phragmipedium lindleyanum"
#> [1] "Processing Phragmipedium longifolium"
#> [1] "Processing Phragmipedium pearcei"
#> [1] "Processing Phragmipedium sargentianum"
#> [1] "Processing Phragmipedium schlimii"
#> [1] "Processing Phragmipedium vittatum"
#> [1] "Processing Phragmipedium warszewiczianum"
#> [1] "Processing Brassia wageneri"
#> [1] "Processing Phreatia plantaginifolia"
#> [1] "Processing Physoceras boryanum"
#> [1] "Processing Pinalia fitzalanii"
#> [1] "Processing Platanthera algeriensis"
#> [1] "Processing Platanthera blephariglottis"
#> [1] "Processing Platanthera chapmanii"
#> [1] "Processing Platanthera chorisiana"
#> [1] "Processing Platanthera clavellata"
#> [1] "Processing Bromheadia finlaysoniana"
#> [1] "Processing Platanthera finetiana"
#> [1] "Processing Platanthera huronensis"
#> [1] "Processing Platanthera hyperborea"
#> [1] "Processing Platanthera integrilabia"
#> [1] "Processing Platanthera leucophaea"
#> [1] "Processing Platanthera micrantha"
#> [1] "Processing Platanthera oreophila"
#> [1] "Processing Platanthera praeclara"
#> [1] "Processing Platanthera tipuloides"
#> [1] "Processing Platanthera yadonii"
#> [1] "Processing Platycoryne mediocris"
#> [1] "Processing Platylepis grandiflora"
#> [1] "Processing Broughtonia negrilensis"
#> [1] "Processing Platystele minimiflora"
#> [1] "Processing Pleione chunii"
#> [1] "Processing Pleione formosana"
#> [1] "Processing Pleione forrestii"
#> [1] "Processing Bryobium eriaeoides"
#> [1] "Processing Bulbophyllum aggregatum"
#> [1] "Processing Pleurothallis rowleei"
#> [1] "Processing Bulbophyllum alveatum"
#> [1] "Processing Plocoglottis borneensis"
#> [1] "Processing Plocoglottis copelandii"
#> [1] "Processing Podochilus khasianus"
#> [1] "Processing Pogonia ophioglossoides"
#> [1] "Processing Polystachya acuminata"
#> [1] "Processing Polystachya albescens"
#> [1] "Processing Polystachya bicalcarata"
#> [1] "Processing Bulbophyllum analamazoatrae"
#> [1] "Processing Polystachya caespitifica"
#> [1] "Processing Polystachya canaliculata"
#> [1] "Processing Polystachya caudata"
#> [1] "Processing Polystachya cooperi"
#> [1] "Processing Polystachya disiformis"
#> [1] "Processing Polystachya doggettii"
#> [1] "Processing Polystachya eurygnatha"
#> [1] "Processing Polystachya fischeri"
#> [1] "Processing Polystachya geniculata"
#> [1] "Processing Polystachya gracilenta"
#> [1] "Processing Polystachya holstii"
#> [1] "Processing Polystachya isochiloides"
#> [1] "Processing Polystachya kupensis"
#> [1] "Processing Polystachya lacroixiana"
#> [1] "Processing Polystachya laurentii"
#> [1] "Processing Bulbophyllum anjozorobeense"
#> [1] "Processing Polystachya longiscapa"
#> [1] "Processing Polystachya maculata"
#> [1] "Processing Polystachya mazumbaiensis"
#> [1] "Processing Polystachya modesta"
#> [1] "Processing Bulbophyllum ankylochele"
#> [1] "Processing Polystachya nyanzensis"
#> [1] "Processing Polystachya porphyrochila"
#> [1] "Processing Polystachya praecipitis"
#> [1] "Processing Bulbophyllum ankylorhinon"
#> [1] "Processing Polystachya pudorina"
#> [1] "Processing Bulbophyllum antennatum"
#> [1] "Processing Polystachya rugosilabia"
#> [1] "Processing Polystachya serpentina"
#> [1] "Processing Polystachya shega"
#> [1] "Processing Polystachya stauroglossa"
#> [1] "Processing Polystachya subdiphylla"
#> [1] "Processing Polystachya subumbellata"
#> [1] "Processing Polystachya superposita"
#> [1] "Processing Polystachya teitensis"
#> [1] "Processing Polystachya tenella"
#> [1] "Processing Polystachya testuana"
#> [1] "Processing Polystachya uluguruensis"
#> [1] "Processing Polystachya undulata"
#> [1] "Processing Polystachya valentina"
#> [1] "Processing Polystachya victoriae"
#> [1] "Processing Polystachya woosnamii"
#> [1] "Processing Polystachya xerophila"
#> [1] "Processing Pomatocalpa maculosum"
#> [1] "Processing Porroglossum muscosum"
#> [1] "Processing Prasophyllum favonium"
#> [1] "Processing Bulbophyllum atrosanguineum"
#> [1] "Processing Prasophyllum giganteum"
#> [1] "Processing Prasophyllum mimulum"
#> [1] "Processing Bulbophyllum auriflorum"
#> [1] "Processing Prescottia lojana"
#> [1] "Processing Bulbophyllum ballii"
#> [1] "Processing Bulbophyllum baronii"
#> [1] "Processing Bulbophyllum betchei"
#> [1] "Processing Psychilis macconnelliae"
#> [1] "Processing Psychilis olivacea"
#> [1] "Processing Bulbophyllum bicoloratum"
#> [1] "Processing Bulbophyllum bifarium"
#> [1] "Processing Pterostylis acuminata"
#> [1] "Processing Bulbophyllum bigibbum"
#> [1] "Processing Pterostylis erecta"
#> [1] "Processing Bulbophyllum bliteum"
#> [1] "Processing Pterostylis hispidula"
#> [1] "Processing Pterostylis humilis"
#> [1] "Processing Pterostylis mutica"
#> [1] "Processing Pterostylis praetermissa"
#> [1] "Processing Bulbophyllum brachypetalum"
#> [1] "Processing Pterostylis squamata"
#> [1] "Processing Bulbophyllum brassii"
#> [1] "Processing Bulbophyllum breviflorum"
#> [1] "Processing Restrepia trichoglossa"
#> [1] "Processing Rhipidoglossum bilobatum"
#> [1] "Processing Rhipidoglossum globulosocalcaratum"
#> [1] "Processing Rhipidoglossum polydactylum"
#> [1] "Processing Bulbophyllum bryophilum"
#> [1] "Processing Bulbophyllum callichroma"
#> [1] "Processing Bulbophyllum callosum"
#> [1] "Processing Sarcochilus falcatus"
#> [1] "Processing Bulbophyllum calviventer"
#> [1] "Processing Bulbophyllum calvum"
#> [1] "Processing Bulbophyllum calyptropus"
#> [1] "Processing Satyrium ecalcaratum"
#> [1] "Processing Satyrium flavum"
#> [1] "Processing Satyrium trinerve"
#> [1] "Processing Bulbophyllum cardiobulbum"
#> [1] "Processing Bulbophyllum cateorum"
#> [1] "Processing Scaphyglottis sickii"
#> [1] "Processing Bulbophyllum cauliflorum"
#> [1] "Processing Schizochilus lepidus"
#> [1] "Processing Bulbophyllum ceriodorum"
#> [1] "Processing Selenipedium aequinoctiale"
#> [1] "Processing Selenipedium chica"
#> [1] "Processing Selenipedium palmifolium"
#> [1] "Processing Selenipedium steyermarkii"
#> [1] "Processing Serapias neglecta"
#> [1] "Processing Serapias nurrica"
#> [1] "Processing Serapias perez-chiscanoi"
#> [1] "Processing Sirhookera lanceolata"
#> [1] "Processing Skeptrostachys arechavaletanii"
#> [1] "Processing Sobralia stenophylla"
#> [1] "Processing Spathoglottis petri"
#> [1] "Processing Specklinia brighamii"
#> [1] "Processing Specklinia corniculata"
#> [1] "Processing Specklinia picta"
#> [1] "Processing Spiranthes brevilabris"
#> [1] "Processing Spiranthes casei"
#> [1] "Processing Spiranthes diluvialis"
#> [1] "Processing Spiranthes infernalis"
#> [1] "Processing Spiranthes romanzoffiana"
#> [1] "Processing Spiranthes sinensis"
#> [1] "Processing Bulbophyllum colliferum"
#> [1] "Processing Spiranthes torta"
#> [1] "Processing Bulbophyllum concatenatum"
#> [1] "Processing Stelis immersa"
#> [1] "Processing Bulbophyllum cruttwellii"
#> [1] "Processing Stelis ruprechtiana"
#> [1] "Processing Bulbophyllum cycloglossum"
#> [1] "Processing Stelis tenuilabris"
#> [1] "Processing Bulbophyllum debile"
#> [1] "Processing Stolzia angustifolia"
#> [1] "Processing Stolzia atrorubra"
#> [1] "Processing Stolzia christopheri"
#> [1] "Processing Stolzia leedalii"
#> [1] "Processing Stolzia moniliformis"
#> [1] "Processing Stolzia oligantha"
#> [1] "Processing Stolzia viridis"
#> [1] "Processing Bulbophyllum dekockii"
#> [1] "Processing Bulbophyllum delitescens"
#> [1] "Processing Taeniophyllum gracillimum"
#> [1] "Processing Bulbophyllum dendrochiloides"
#> [1] "Processing Telipogon biolleyi"
#> [1] "Processing Bulbophyllum desmotrichoides"
#> [1] "Processing Bulbophyllum discolor"
#> [1] "Processing Thelymitra cyanea"
#> [1] "Processing Thelymitra papuana"
#> [1] "Processing Tolumnia prionochila"
#> [1] "Processing Tolumnia variegata"
#> [1] "Processing Triceratorhynchus viridiflorus"
#> [1] "Processing Bulbophyllum encephalodes"
#> [1] "Processing Trichoglottis smithii"
#> [1] "Processing Trichoglottis tenuis"
#> [1] "Processing Trichoglottis winkleri"
#> [1] "Processing Trichopilia marginata"
#> [1] "Processing Trichopilia turialbae"
#> [1] "Processing Bulbophyllum erinaceum"
#> [1] "Processing Bulbophyllum erythroglossum"
#> [1] "Processing Trichotosia mollicaulis"
#> [1] "Processing Tridactyle brevifolia"
#> [1] "Processing Tridactyle cruciformis"
#> [1] "Processing Tridactyle flabellata"
#> [1] "Processing Tridactyle minuta"
#> [1] "Processing Tridactyle phaeocephala"
#> [1] "Processing Tridactyle sarcodantha"
#> [1] "Processing Tridactyle stevartiana"
#> [1] "Processing Tridactyle tanneri"
#> [1] "Processing Bulbophyllum fayi"
#> [1] "Processing Triphora yucatanensis"
#> [1] "Processing Tropidia saprophytica"
#> [1] "Processing Tylostigma filiforme"
#> [1] "Processing Tylostigma herminioides"
#> [1] "Processing Tylostigma hildebrandtii"
#> [1] "Processing Tylostigma madagascariense"
#> [1] "Processing Tylostigma nigrescens"
#> [1] "Processing Vanda hindsii"
#> [1] "Processing Vanda scandens"
#> [1] "Processing Vanda tessellata"
#> [1] "Processing Vanilla cribbiana"
#> [1] "Processing Vanilla hartii"
#> [1] "Processing Vanilla inodora"
#> [1] "Processing Vanilla insignis"
#> [1] "Processing Bulbophyllum fonsflorum"
#> [1] "Processing Vanilla odorata"
#> [1] "Processing Vanilla phaeantha"
#> [1] "Processing Vanilla planifolia"
#> [1] "Processing Vanilla pompona"
#> [1] "Processing Bulbophyllum fractiflexum"
#> [1] "Processing Yoania japonica"
#> [1] "Processing Zeuxine amboinensis"
#> [1] "Processing Zeuxine odorata"
#> [1] "Processing Zeuxine strateumatica"
#> [1] "Processing Zygopetalum crinitum"
#> [1] "Processing Bulbophyllum grammopoma"
#> [1] "Processing Bulbophyllum gravidum"
#> [1] "Processing Bulbophyllum gyaloglossum"
#> [1] "Processing Bulbophyllum hamelinii"
#> [1] "Processing Bulbophyllum hirsutiusculum"
#> [1] "Processing Bulbophyllum hirudiniferum"
#> [1] "Processing Bulbophyllum horizontale"
#> [1] "Processing Bulbophyllum imitator"
#> [1] "Processing Bulbophyllum ischnopus"
#> [1] "Processing Bulbophyllum jaapii"
#> [1] "Processing Bulbophyllum jumelleanum"
#> [1] "Processing Bulbophyllum kainochiloides"
#> [1] "Processing Bulbophyllum latisepalum"
#> [1] "Processing Bulbophyllum leniae"
#> [1] "Processing Bulbophyllum leopardinum"
#> [1] "Processing Bulbophyllum lepanthiflorum"
#> [1] "Processing Bulbophyllum leptoleucum"
#> [1] "Processing Bulbophyllum leucothyrsus"
#> [1] "Processing Bulbophyllum lizae"
#> [1] "Processing Bulbophyllum macilentum"
#> [1] "Processing Bulbophyllum macneiceae"
#> [1] "Processing Bulbophyllum macranthum"
#> [1] "Processing Bulbophyllum macrorhopalon"
#> [1] "Processing Bulbophyllum macrourum"
#> [1] "Processing Bulbophyllum mediocre"
#> [1] "Processing Bulbophyllum mesodon"
#> [1] "Processing Bulbophyllum minax"
#> [1] "Processing Bulbophyllum minutipetalum"
#> [1] "Processing Bulbophyllum minutissimum"
#> [1] "Processing Bulbophyllum mischobulbon"
#> [1] "Processing Bulbophyllum moratii"
#> [1] "Processing Bulbophyllum multiflorum"
#> [1] "Processing Bulbophyllum myon"
#> [1] "Processing Bulbophyllum nigericum"
#> [1] "Processing Bulbophyllum octarrhenipetalum"
#> [1] "Processing Bulbophyllum oliganthum"
#> [1] "Processing Bulbophyllum olivinum"
#> [1] "Processing Bulbophyllum oreodoxa"
#> [1] "Processing Bulbophyllum ortalis"
#> [1] "Processing Bulbophyllum pachytelos"
#> [1] "Processing Bulbophyllum paleiferum"
#> [1] "Processing Bulbophyllum pandanetorum"
#> [1] "Processing Bulbophyllum patella"
#> [1] "Processing Bulbophyllum peltopus"
#> [1] "Processing Bulbophyllum peyrotii"
#> [1] "Processing Bulbophyllum phormion"
#> [1] "Processing Bulbophyllum pidacanthum"
#> [1] "Processing Bulbophyllum porphyrostachys"
#> [1] "Processing Bulbophyllum posticum"
#> [1] "Processing Bulbophyllum quasimodo"
#> [1] "Processing Bulbophyllum radicans"
#> [1] "Processing Bulbophyllum reevei"
#> [1] "Processing Bulbophyllum regnellii"
#> [1] "Processing Bulbophyllum renkinianum"
#> [1] "Processing Bulbophyllum restrepia"
#> [1] "Processing Bulbophyllum rhodoleucum"
#> [1] "Processing Bulbophyllum rubrolabellum"
#> [1] "Processing Bulbophyllum rubrum"
#> [1] "Processing Bulbophyllum sandrangatense"
#> [1] "Processing Bulbophyllum sceliphron"
#> [1] "Processing Bulbophyllum scopa"
#> [1] "Processing Bulbophyllum scutiferum"
#> [1] "Processing Aerangis gracillima"
#> [1] "Processing Bulbophyllum simile"
#> [1] "Processing Aerangis hyaloides"
#> [1] "Processing Bulbophyllum stipulaceum"
#> [1] "Processing Bulbophyllum subligaculiferum"
#> [1] "Processing Bulbophyllum subpatulum"
#> [1] "Processing Bulbophyllum sulfureum"
#> [1] "Processing Bulbophyllum tampoketsense"
#> [1] "Processing Bulbophyllum tarantula"
#> [1] "Processing Aerangis macrocentra"
#> [1] "Processing Bulbophyllum thelantyx"
#> [1] "Processing Bulbophyllum tinekeae"
#> [1] "Processing Aerangis megaphylla"
#> [1] "Processing Bulbophyllum tokioi"
#> [1] "Processing Bulbophyllum trachypus"
#> [1] "Processing Bulbophyllum trifilum"
#> [1] "Processing Aerangis monantha"
#> [1] "Processing Bulbophyllum trirhopalon"
#> [1] "Processing Bulbophyllum uroplatoides"
#> [1] "Processing Aerangis pallidiflora"
#> [1] "Processing Bulbophyllum xanthochlamys"
#> [1] "Processing Bulbophyllum zaratananae"
#> [1] "Processing Aerangis punctata"
#> [1] "Processing Bulleyia yunnanensis"
#> [1] "Processing Aerangis seegeri"
#> [1] "Processing Caladenia brownii"
#> [1] "Processing Caladenia catenata"
#> [1] "Processing Caladenia citrina"
#> [1] "Processing Caladenia cracens"
#> [1] "Processing Caladenia dimorpha"
#> [1] "Processing Caladenia dundasiae"
#> [1] "Processing Aeranthes angustidens"
#> [1] "Processing Aeranthes antennophora"
#> [1] "Processing Caladenia hastata"
#> [1] "Processing Caladenia incensa"
#> [1] "Processing Aeranthes ecalcarata"
#> [1] "Processing Caladenia mesocera"
#> [1] "Processing Aeranthes leandriana"
#> [1] "Processing Caladenia radialis"
#> [1] "Processing Caladenia radiata"
#> [1] "Processing Aeranthes multinodis"
#> [1] "Processing Caladenia splendens"
#> [1] "Processing Aeranthes polyanthemus"
#> [1] "Processing Calanthe caulescens"
#> [1] "Processing Aeranthes schlechteri"
#> [1] "Processing Calanthe ecallosa"
#> [1] "Processing Calanthe fargesii"
#> [1] "Processing Aeranthes setipes"
#> [1] "Processing Aeranthes strangulata"
#> [1] "Processing Calanthe madagascariensis"
#> [1] "Processing Aeranthes tropophila"
#> [1] "Processing Calanthe versteegii"
#> [1] "Processing Calopogon multiflorus"
#> [1] "Processing Calopogon tuberosus"
#> [1] "Processing Campylocentrum tyrridion"
#> [1] "Processing Catasetum barbatum"
#> [1] "Processing Catasetum tuberculatum"
#> [1] "Processing Ceratostylis anceps"
#> [1] "Processing Ceratostylis micrantha"
#> [1] "Processing Chamorchis alpina"
#> [1] "Processing Changnienia amoena"
#> [1] "Processing Cheirostylis bidentata"
#> [1] "Processing Cheirostylis notialis"
#> [1] "Processing Agrostophyllum cyathiforme"
#> [1] "Processing Claderia viridiflora"
#> [1] "Processing Cleistes ionoglossa"
#> [1] "Processing Cochleanthes trinitatis"
#> [1] "Processing Coelogyne foerstermannii"
#> [1] "Processing Agrostophyllum laterale"
#> [1] "Processing Coelogyne rigida"
#> [1] "Processing Conchidium pusillum"
#> [1] "Processing Corallorhiza bentleyi"
#> [1] "Processing Corybas dienemus"
#> [1] "Processing Corybas gastrosiphon"
#> [1] "Processing Corycium flanaganii"
#> [1] "Processing Crepidium kabense"
#> [1] "Processing Crepidium quadridens"
#> [1] "Processing Cribbia pendula"
#> [1] "Processing Cribbia thomensis"
#> [1] "Processing Cryptopus brachiatus"
#> [1] "Processing Cryptopus dissectus"
#> [1] "Processing Cryptopus paniculatus"
#> [1] "Processing Altensteinia longispicata"
#> [1] "Processing Cyclopogon longibracteatus"
#> [1] "Processing Amitostigma capitatum"
#> [1] "Processing Amitostigma hemipilioides"
#> [1] "Processing Amitostigma simplex"
#> [1] "Processing Cymbidium tracyanum"
#> [1] "Processing Amitostigma tetralobum"
#> [1] "Processing Cynorkis ambondrombensis"
#> [1] "Processing Cynorkis aphylla"
#> [1] "Processing Cynorkis aurantiaca"
#> [1] "Processing Cynorkis bimaculata"
#> [1] "Processing Anacamptis boryi"
#> [1] "Processing Cynorkis buchwaldiana"
#> [1] "Processing Cynorkis cuneilabia"
#> [1] "Processing Cynorkis elata"
#> [1] "Processing Cynorkis formosa"
#> [1] "Processing Cynorkis gabonensis"
#> [1] "Processing Cynorkis gibbosa"
#> [1] "Processing Cynorkis gigas"
#> [1] "Processing Cynorkis globifera"
#> [1] "Processing Cynorkis gymnochiloides"
#> [1] "Processing Cynorkis henrici"
#> [1] "Processing Cynorkis humbertii"
#> [1] "Processing Cynorkis lindleyana"
#> [1] "Processing Cynorkis marojejyensis"
#> [1] "Processing Cynorkis monadenia"
#> [1] "Processing Cynorkis muscicola"
#> [1] "Processing Cynorkis perrieri"
#> [1] "Processing Cynorkis peyrotii"
#> [1] "Processing Cynorkis pinguicularioides"
#> [1] "Processing Cynorkis pleistadenia"
#> [1] "Processing Cynorkis pseudorolfei"
#> [1] "Processing Cynorkis purpurea"
#> [1] "Processing Cynorkis quinqueloba"
#> [1] "Processing Cynorkis rolfei"
#> [1] "Processing Cynorkis rungweensis"
#> [1] "Processing Cynorkis sacculata"
#> [1] "Processing Cynorkis sambiranoensis"
#> [1] "Processing Cynorkis stolonifera"
#> [1] "Processing Cynorkis sylvatica"
#> [1] "Processing Cynorkis tenerrima"
#> [1] "Processing Cynorkis tristis"
#> [1] "Processing Cynorkis uncata"
#> [1] "Processing Cynorkis zaratananae"
#> [1] "Processing Cypripedium acaule"
#> [1] "Processing Anacamptis palustris"
#> [1] "Processing Cypripedium arietinum"
#> [1] "Processing Cypripedium bardolphianum"
#> [1] "Processing Cypripedium calceolus"
#> [1] "Processing Cypripedium calcicola"
#> [1] "Processing Cypripedium californicum"
#> [1] "Processing Cypripedium candidum"
#> [1] "Processing Cypripedium cordigerum"
#> [1] "Processing Cypripedium debile"
#> [1] "Processing Cypripedium elegans"
#> [1] "Processing Cypripedium fargesii"
#> [1] "Processing Cypripedium farreri"
#> [1] "Processing Cypripedium fasciculatum"
#> [1] "Processing Cypripedium fasciolatum"
#> [1] "Processing Cypripedium flavum"
#> [1] "Processing Cypripedium formosanum"
#> [1] "Processing Cypripedium forrestii"
#> [1] "Processing Cypripedium franchetii"
#> [1] "Processing Cypripedium guttatum"
#> [1] "Processing Cypripedium henryi"
#> [1] "Processing Cypripedium himalaicum"
#> [1] "Processing Cypripedium irapeanum"
#> [1] "Processing Cypripedium japonicum"
#> [1] "Processing Cypripedium kentuckiense"
#> [1] "Processing Cypripedium lichiangense"
#> [1] "Processing Cypripedium ludlowii"
#> [1] "Processing Cypripedium macranthos"
#> [1] "Processing Cypripedium margaritaceum"
#> [1] "Processing Cypripedium molle"
#> [1] "Processing Cypripedium montanum"
#> [1] "Processing Cypripedium palangshanense"
#> [1] "Processing Cypripedium parviflorum"
#> [1] "Processing Cypripedium passerinum"
#> [1] "Processing Cypripedium plectrochilum"
#> [1] "Processing Cypripedium reginae"
#> [1] "Processing Cypripedium segawae"
#> [1] "Processing Cypripedium shanxiense"
#> [1] "Processing Anacamptis sancta"
#> [1] "Processing Cypripedium taibaiense"
#> [1] "Processing Cypripedium tibeticum"
#> [1] "Processing Cypripedium wardii"
#> [1] "Processing Cypripedium yatabeanum"
#> [1] "Processing Cypripedium yunnanense"
#> [1] "Processing Cyrtochilum halteratum"
#> [1] "Processing Cyrtopodium brandonianum"
#> [1] "Processing Cyrtorchis glaucifolia"
#> [1] "Processing Dactylorhiza baumanniana"
#> [1] "Processing Dactylorhiza cordigera"
#> [1] "Processing Dactylorhiza elata"
#> [1] "Processing Dactylorhiza euxina"
#> [1] "Processing Dactylorhiza foliosa"
#> [1] "Processing Dactylorhiza kalopissii"
#> [1] "Processing Dactylorhiza lapponica"
#> [1] "Processing Dactylorhiza sambucina"
#> [1] "Processing Dactylorhiza urvilleana"
#> [1] "Processing Dendrobium aberrans"
#> [1] "Processing Dendrobium alexandrae"
#> [1] "Processing Dendrobium aloifolium"
#> [1] "Processing Dendrobium amphigenyum"
#> [1] "Processing Dendrobium aphyllum"
#> [1] "Processing Dendrobium archipelagense"
#> [1] "Processing Anathallis minutalis"
#> [1] "Processing Dendrobium armeniacum"
#> [1] "Processing Dendrobium atroviolaceum"
#> [1] "Processing Dendrobium bensoniae"
#> [1] "Processing Dendrobium brevicaule"
#> [1] "Processing Dendrobium bulbophylloides"
#> [1] "Processing Dendrobium cochliodes"
#> [1] "Processing Dendrobium crassilabium"
#> [1] "Processing Dendrobium crispilinguum"
#> [1] "Processing Dendrobium cruttwellii"
#> [1] "Processing Dendrobium cuthbertsonii"
#> [1] "Processing Dendrobium cyanocentrum"
#> [1] "Processing Dendrobium dekockii"
#> [1] "Processing Dendrobium dendrocolloides"
#> [1] "Processing Dendrobium dissitifolium"
#> [1] "Processing Dendrobium engae"
#> [1] "Processing Dendrobium eximium"
#> [1] "Processing Ancistrochilus thomsonianus"
#> [1] "Processing Acianthera chrysantha"
#> [1] "Processing Dendrobium finisterrae"
#> [1] "Processing Dendrobium forbesii"
#> [1] "Processing Dendrobium geotropum"
#> [1] "Processing Ancistrorhynchus crystalensis"
#> [1] "Processing Dendrobium habbemense"
#> [1] "Processing Ancistrorhynchus laxiflorus"
#> [1] "Processing Dendrobium hamiferum"
#> [1] "Processing Dendrobium helix"
#> [1] "Processing Dendrobium hellwigianum"
#> [1] "Processing Ancistrorhynchus parviflorus"
#> [1] "Processing Dendrobium incurvum"
#> [1] "Processing Ancistrorhynchus refractus"
#> [1] "Processing Dendrobium kauldorumii"
#> [1] "Processing Ancistrorhynchus serratus"
#> [1] "Processing Dendrobium lancifolium"
#> [1] "Processing Dendrobium lancilabium"
#> [1] "Processing Dendrobium lasianthera"
#> [1] "Processing Ancistrorhynchus tenuicaulis"
#> [1] "Processing Dendrobium leptocladum"
#> [1] "Processing Dendrobium leucohybos"
#> [1] "Processing Dendrobium lineale"
#> [1] "Processing Dendrobium litorale"
#> [1] "Processing Dendrobium lohohense"
#> [1] "Processing Dendrobium margaretiae"
#> [1] "Processing Dendrobium mayandyi"
#> [1] "Processing Dendrobium melinanthum"
#> [1] "Processing Dendrobium merrillii"
#> [1] "Processing Dendrobium minutiflorum"
#> [1] "Processing Dendrobium nardoides"
#> [1] "Processing Angraecopsis cryptantha"
#> [1] "Processing Dendrobium otaguroanum"
#> [1] "Processing Angraecopsis lisowskii"
#> [1] "Processing Angraecopsis parva"
#> [1] "Processing Dendrobium poneroides"
#> [1] "Processing Dendrobium putnamii"
#> [1] "Processing Angraecopsis tenerrima"
#> [1] "Processing Angraecopsis tridens"
#> [1] "Processing Dendrobium rigidifolium"
#> [1] "Processing Dendrobium rupestre"
#> [1] "Processing Angraecum alleizettei"
#> [1] "Processing Dendrobium simplex"
#> [1] "Processing Angraecum amplexicaule"
#> [1] "Processing Dendrobium subuliferum"
#> [1] "Processing Dendrobium sulphureum"
#> [1] "Processing Dendrobium tangerinum"
#> [1] "Processing Dendrobium tapiniense"
#> [1] "Processing Dendrobium terrestre"
#> [1] "Processing Angraecum angustum"
#> [1] "Processing Angraecum ankeranense"
#> [1] "Processing Angraecum aporoides"
#> [1] "Processing Dendrobium williamsianum"
#> [1] "Processing Angraecum atlanticum"
#> [1] "Processing Dendrobium wisselense"
#> [1] "Processing Angraecum bancoense"
#> [1] "Processing Angraecum bicallosum"
#> [1] "Processing Dendrochilum foxworthyi"
#> [1] "Processing Dendrochilum gracile"
#> [1] "Processing Dendrochilum imitator"
#> [1] "Processing Dendrochilum loheri"
#> [1] "Processing Dendrochilum longipedicellatum"
#> [1] "Processing Dendrochilum tuberculatum"
#> [1] "Processing Angraecum compactum"
#> [1] "Processing Didymoplexis africana"
#> [1] "Processing Angraecum cornucopiae"
#> [1] "Processing Angraecum coutrixii"
#> [1] "Processing Angraecum cribbianum"
#> [1] "Processing Disa bodkinii"
#> [1] "Processing Disa chimanimaniensis"
#> [1] "Processing Angraecum curvipes"
#> [1] "Processing Disa erubescens"
#> [1] "Processing Disa extinctoria"
#> [1] "Processing Angraecum danguyanum"
#> [1] "Processing Angraecum dendrobiopsis"
#> [1] "Processing Angraecum distichum"
#> [1] "Processing Angraecum doratophyllum"
#> [1] "Processing Disa thodei"
#> [1] "Processing Disa walleri"
#> [1] "Processing Disperis aphylla"
#> [1] "Processing Disperis bosseri"
#> [1] "Processing Disperis ciliata"
#> [1] "Processing Angraecum egertonii"
#> [1] "Processing Disperis egregia"
#> [1] "Processing Disperis elaphoceras"
#> [1] "Processing Disperis erucifera"
#> [1] "Processing Disperis kamerunensis"
#> [1] "Processing Disperis kerstenii"
#> [1] "Processing Disperis lanceolata"
#> [1] "Processing Disperis majungensis"
#> [1] "Processing Disperis masoalensis"
#> [1] "Processing Disperis mildbraedii"
#> [1] "Processing Disperis nitida"
#> [1] "Processing Diuris byronensis"
#> [1] "Processing Angraecum gabonense"
#> [1] "Processing Angraecum humbertii"
#> [1] "Processing Angraecum humblotianum"
#> [1] "Processing Dracula ripleyana"
#> [1] "Processing Dryadella minuscula"
#> [1] "Processing Angraecum mahavavense"
#> [1] "Processing Elleanthus oliganthus"
#> [1] "Processing Angraecum moratii"
#> [1] "Processing Encyclia kingsii"
#> [1] "Processing Encyclia osmantha"
#> [1] "Processing Angraecum obesum"
#> [1] "Processing Encyclia phoenicea"
#> [1] "Processing Encyclia spatella"
#> [1] "Processing Angraecum penzigianum"
#> [1] "Processing Epidendrum anthoceros"
#> [1] "Processing Angraecum perhumile"
#> [1] "Processing Angraecum peyrotii"
#> [1] "Processing Angraecum pinifolium"
#> [1] "Processing Angraecum podochiloides"
#> [1] "Processing Angraecum potamophilum"
#> [1] "Processing Epidendrum capricornu"
#> [1] "Processing Epidendrum carnevalii"
#> [1] "Processing Angraecum protensum"
#> [1] "Processing Angraecum pseudodidieri"
#> [1] "Processing Angraecum pseudofilicornu"
#> [1] "Processing Epidendrum cocoense"
#> [1] "Processing Angraecum pungens"
#> [1] "Processing Epidendrum criniferum"
#> [1] "Processing Angraecum pyriforme"
#> [1] "Processing Epidendrum diothonaeoides"
#> [1] "Processing Angraecum rigidifolium"
#> [1] "Processing Angraecum rubellum"
#> [1] "Processing Epidendrum geminiflorum"
#> [1] "Processing Angraecum sambiranoense"
#> [1] "Processing Epidendrum gentryi"
#> [1] "Processing Angraecum sanfordii"
#> [1] "Processing Epidendrum hombersleyi"
#> [1] "Processing Angraecum serpens"
#> [1] "Processing Angraecum setipes"
#> [1] "Processing Epidendrum insulanum"
#> [1] "Processing Angraecum sterrophyllum"
#> [1] "Processing Angraecum subulatum"
#> [1] "Processing Epidendrum microphyllum"
#> [1] "Processing Angraecum triangulifolium"
#> [1] "Processing Epidendrum oerstedii"
#> [1] "Processing Anguloa cliftonii"
#> [1] "Processing Epidendrum proligerum"
#> [1] "Processing Epidendrum ramosum"
#> [1] "Processing Epidendrum syringothyrsus"
#> [1] "Processing Epidendrum tigriphyllum"
#> [1] "Processing Epipactis albensis"
#> [1] "Processing Epipactis gigantea"
#> [1] "Processing Epipactis greuteri"
#> [1] "Processing Anoectochilus sandvicensis"
#> [1] "Processing Epipactis leptochila"
#> [1] "Processing Epipactis muelleri"
#> [1] "Processing Epipactis nordeniorum"
#> [1] "Processing Epipactis palustris"
#> [1] "Processing Epipactis phyllanthes"
#> [1] "Processing Epipactis placentina"
#> [1] "Processing Epipactis purpurata"
#> [1] "Processing Epipactis troodi"
#> [1] "Processing Epipactis veratrifolia"
#> [1] "Processing Anoectochilus zhejiangensis"
#> [1] "Processing Eria bidupensis"
#> [1] "Processing Ansellia africana"
#> [1] "Processing Eria carinata"
#> [1] "Processing Erythrodes blumei"
#> [1] "Processing Erythrorchis altissima"
#> [1] "Processing Eulophia coddii"
#> [1] "Processing Eulophia fernandeziana"
#> [1] "Processing Eulophia filifolia"
#> [1] "Processing Eulophia grandidieri"
#> [1] "Processing Eulophia katangensis"
#> [1] "Processing Eulophia mangenotiana"
#> [1] "Processing Eulophia nervosa"
#> [1] "Processing Eulophia ramosa"
#> [1] "Processing Eulophia reticulata"
#> [1] "Processing Eulophia speciosa"
#> [1] "Processing Galeottia fimbriata"
#> [1] "Processing Gastrochilus calceolaris"
#> [1] "Processing Appendicula calcarata"
#> [1] "Processing Gastrodia africana"
#> [1] "Processing Gastrodia elata"
#> [1] "Processing Gastrorchis tuberculosa"
#> [1] "Processing Genyorchis platybulbon"
#> [1] "Processing Geodorum recurvum"
#> [1] "Processing Glomera compressa"
#> [1] "Processing Glomera oligantha"
#> [1] "Processing Glomera uniflora"
#> [1] "Processing Gomesa sessilis"
#> [1] "Processing Gomesa silvana"
#> [1] "Processing Gonatostylis vieillardii"
#> [1] "Processing Gongora arcuata"
#> [1] "Processing Acianthera hondurensis"
#> [1] "Processing Gongora portentosa"
#> [1] "Processing Goodyera flaccida"
#> [1] "Processing Goodyera macrophylla"
#> [1] "Processing Appendicula longirostrata"
#> [1] "Processing Goodyera perrieri"
#> [1] "Processing Graphorkis medemiae"
#> [1] "Processing Grosourdya quinquelobata"
#> [1] "Processing Gymnadenia crassinervis"
#> [1] "Processing Gymnadenia frivaldii"
#> [1] "Processing Gymnadenia odoratissima"
#> [1] "Processing Gymnadenia rhellicani"
#> [1] "Processing Gymnadenia runei"
#> [1] "Processing Habenaria armatissima"
#> [1] "Processing Habenaria backeri"
#> [1] "Processing Habenaria batesii"
#> [1] "Processing Habenaria delavayi"
#> [1] "Processing Habenaria dusenii"
#> [1] "Processing Habenaria finetiana"
#> [1] "Processing Habenaria fordii"
#> [1] "Processing Appendicula tenuispica"
#> [1] "Processing Habenaria glazioviana"
#> [1] "Processing Habenaria holotricha"
#> [1] "Processing Habenaria isoantha"
#> [1] "Processing Habenaria jacobii"
#> [1] "Processing Habenaria jaegeri"
#> [1] "Processing Habenaria leptoloba"
#> [1] "Processing Habenaria leucoceras"
#> [1] "Processing Habenaria macrostele"
#> [1] "Processing Habenaria mairei"
#> [1] "Processing Habenaria maitlandii"
#> [1] "Processing Habenaria microceras"
#> [1] "Processing Habenaria monorrhiza"
#> [1] "Processing Habenaria mossii"
#> [1] "Processing Habenaria nigrescens"
#> [1] "Processing Habenaria obovata"
#> [1] "Processing Habenaria parviflora"
#> [1] "Processing Arethusa bulbosa"
#> [1] "Processing Habenaria plectromaniaca"
#> [1] "Processing Habenaria pleiophylla"
#> [1] "Processing Habenaria retroflexa"
#> [1] "Processing Habenaria richardsiae"
#> [1] "Processing Habenaria siamensis"
#> [1] "Processing Habenaria socotrana"
#> [1] "Processing Habenaria stylites"
#> [1] "Processing Habenaria supplicans"
#> [1] "Processing Habenaria thomana"
#> [1] "Processing Habenaria tianae"
#> [1] "Processing Habenaria tridactylites"
#> [1] "Processing Habenaria virens"
#> [1] "Processing Hammarbya paludosa"
#> [1] "Processing Helonoma bifida"
#> [1] "Processing Hemipilia flabellata"
#> [1] "Processing Hemipilia forrestii"
#> [1] "Processing Hemipilia henryi"
#> [1] "Processing Hemipilia limprichtii"
#> [1] "Processing Herminium ophioglossoides"
#> [1] "Processing Hetaeria heterosepala"
#> [1] "Processing Hexalectris revoluta"
#> [1] "Processing Hexalectris warnockii"
#> [1] "Processing Himantoglossum adriaticum"
#> [1] "Processing Himantoglossum metlesicsianum"
#> [1] "Processing Holcoglossum quasipinifolium"
#> [1] "Processing Holothrix filicornis"
#> [1] "Processing Holothrix socotrana"
#> [1] "Processing Huntleya burtii"
#> [1] "Processing Huntleya vargasii"
#> [1] "Processing Isotria medeoloides"
#> [1] "Processing Jumellea anjouanensis"
#> [1] "Processing Jumellea stenophylla"
#> [1] "Processing Lankesterella gnomus"
#> [1] "Processing Leochilus leochilinus"
#> [1] "Processing Lepanthes binaria"
#> [1] "Processing Lepanthes lindleyana"
#> [1] "Processing Acianthera malachantha"
#> [1] "Processing Barbosella geminata"
#> [1] "Processing Lepanthes mucronata"
#> [1] "Processing Lepanthes prolifera"
#> [1] "Processing Barkeria naevosa"
#> [1] "Processing Lepanthes sinuosa"
#> [1] "Processing Bartholina etheliae"
#> [1] "Processing Basiphyllaea corallicola"
#> Joining, by = "species"
#> Joining, by = "species"
cli <- clim_features(training_occ) #climate
bme <- biome_features(training_occ) #biomes
#> Reading layer `wwf_terr_ecos' from data source `C:\Users\az64mycy\Dropbox (iDiv)\research_projects\00_IUCNN\IUCNN\vignettes\WWF_ecoregions\official' using driver `ESRI Shapefile'
#> Simple feature collection with 14458 features and 21 fields
#> geometry type:  POLYGON
#> dimension:      XY
#> bbox:           xmin: -180 ymin: -89.89197 xmax: 180 ymax: 83.62313
#> geographic CRS: WGS 84
#> although coordinates are longitude/latitude, st_intersects assumes that they are planar
#> although coordinates are longitude/latitude, st_intersects assumes that they are planar

features_train <- geo %>% 
  left_join(cli) %>% 
  left_join(bme)
#> Joining, by = "species"
#> Joining, by = "species"

# prepare features for target species
geo <- geo_features(prediction_occ)
#> [1] "Processing Liparis brachystalix"
#> [1] "Processing Batemannia leferenzii"
#> [1] "Processing Liparis phyllocardia"
#> [1] "Processing Luisia trichorrhiza"
#> [1] "Processing Macropodanthus teysmannii"
#> [1] "Processing Malaxis lobulata"
#> [1] "Processing Malaxis warmingii"
#> [1] "Processing Masdevallia guttulata"
#> [1] "Processing Masdevallia impostor"
#> [1] "Processing Maxillaria darienensis"
#> [1] "Processing Bonatea rabaiensis"
#> [1] "Processing Micropera fasciculata"
#> [1] "Processing Nervilia bandana"
#> [1] "Processing Nervilia pectinata"
#> [1] "Processing Oberonia similis"
#> [1] "Processing Oncidium pentadactylon"
#> [1] "Processing Oncidium polyadenium"
#> [1] "Processing Orchis galilaea"
#> [1] "Processing Pheladenia deformis"
#> [1] "Processing Brassia thyrsodes"
#> [1] "Processing Pinalia saccifera"
#> [1] "Processing Platanthera transversa"
#> [1] "Processing Platycoryne pervillei"
#> [1] "Processing Pleurothallis pandurata"
#> [1] "Processing Pleurothallis peculiaris"
#> [1] "Processing Pleurothallis phratria"
#> [1] "Processing Ponthieva diptera"
#> [1] "Processing Prasophyllum dossenum"
#> [1] "Processing Prosthechea tigrina"
#> [1] "Processing Pseudocentrum bursarium"
#> [1] "Processing Pterostylis psammophilus"
#> [1] "Processing Rhomboda polygonoides"
#> [1] "Processing Bulbophyllum bulliferum"
#> [1] "Processing Rhynchostele hortensiae"
#> [1] "Processing Scaphyglottis crurigera"
#> [1] "Processing Schoenorchis vanoverberghii"
#> [1] "Processing Sobralia undatocarinata"
#> [1] "Processing Specklinia pisinna"
#> [1] "Processing Stelis exilis"
#> [1] "Processing Stelis hirtzii"
#> [1] "Processing Bulbophyllum cyclophoroides"
#> [1] "Processing Stelis vesca"
#> [1] "Processing Bulbophyllum dischidiifolium"
#> [1] "Processing Trichocentrum cavendishianum"
#> [1] "Processing Tridactyle crassifolia"
#> [1] "Processing Bulbophyllum insulsoides"
#> [1] "Processing Bulbophyllum leptochlamys"
#> [1] "Processing Bulbophyllum macranthoides"
#> [1] "Processing Bulbophyllum moldenkeanum"
#> [1] "Processing Aa trilobulata"
#> [1] "Processing Bulbophyllum septemtrionale"
#> [1] "Processing Aeranthes peyrotii"
#> [1] "Processing Caladenia versicolor"
#> [1] "Processing Campylocentrum ornithorrhynchum"
#> [1] "Processing Catasetum macroglossum"
#> [1] "Processing Cheirostylis thailandica"
#> [1] "Processing Chiloglottis gunnii"
#> [1] "Processing Chiloglottis trullata"
#> [1] "Processing Cleisostoma appendiculatum"
#> [1] "Processing Cleisostoma longioperculatum"
#> [1] "Processing Coelogyne squamulosa"
#> [1] "Processing Coelogyne tenompokensis"
#> [1] "Processing Corybas naviculisepalus"
#> [1] "Processing Cranichis hassleri"
#> [1] "Processing Cyrtochilum ferrugineum"
#> [1] "Processing Cyrtorchis injoloensis"
#> [1] "Processing Dendrobium minimum"
#> [1] "Processing Dendrobium regale"
#> [1] "Processing Dendrobium sphenochilum"
#> [1] "Processing Dendrochilum curranii"
#> [1] "Processing Disa cooperi"
#> [1] "Processing Disa minor"
#> [1] "Processing Disperis cucullata"
#> [1] "Processing Angraecum erectum"
#> [1] "Processing Diuris cuneata"
#> [1] "Processing Diuris filifolia"
#> [1] "Processing Angraecum lisowskianum"
#> [1] "Processing Epidendrum aggregatum"
#> [1] "Processing Epidendrum davidsei"
#> [1] "Processing Epidendrum longicaule"
#> [1] "Processing Epidendrum megagastrium"
#> [1] "Processing Epidendrum microdiothoneum"
#> [1] "Processing Epidendrum pallens"
#> [1] "Processing Epidendrum puyoense"
#> [1] "Processing Epipactis atrorubens"
#> [1] "Processing Fernandezia maculata"
#> [1] "Processing Galeottia ciliata"
#> [1] "Processing Appendicula celebica"
#> [1] "Processing Habenaria chirensis"
#> [1] "Processing Habenaria corticicola"
#> [1] "Processing Habenaria egleriana"
#> [1] "Processing Habenaria flexuosa"
#> [1] "Processing Habenaria helicoplectrum"
#> [1] "Processing Habenaria irazuensis"
#> [1] "Processing Habenaria lucida"
#> [1] "Processing Habenaria nyikensis"
#> [1] "Processing Herminium alaschanicum"
#> [1] "Processing Lepanthes candida"
#> [1] "Processing Lepanthes demissa"
#> [1] "Processing Barkeria whartoniana"
#> Joining, by = "species"
#> Joining, by = "species"
cli <- clim_features(prediction_occ)
bme <- biome_features(prediction_occ)
#> Reading layer `wwf_terr_ecos' from data source `C:\Users\az64mycy\Dropbox (iDiv)\research_projects\00_IUCNN\IUCNN\vignettes\WWF_ecoregions\official' using driver `ESRI Shapefile'
#> Simple feature collection with 14458 features and 21 fields
#> geometry type:  POLYGON
#> dimension:      XY
#> bbox:           xmin: -180 ymin: -89.89197 xmax: 180 ymax: 83.62313
#> geographic CRS: WGS 84
#> although coordinates are longitude/latitude, st_intersects assumes that they are planar
#> although coordinates are longitude/latitude, st_intersects assumes that they are planar

features_predict <- geo %>% 
  left_join(cli) %>% 
  left_join(bme)
#> Joining, by = "species"
#> Joining, by = "species"
```

IUCNN expects the labels for training as numerical categories. So, to use IUCN Red LIst categories, those need to be converted to numeric in the right way. This can be done using the `prepare_labels` function. The function can use with detailed categories or with broader threatened not threatened categories. See `?prepare_labels` for more information. The labels will be converted into numeric categories following the `accepted_labels` argument, so for instance, in the default case: CR -> 0 and LC -> 4. IF you change the accepted labels, the match will change accordingly.


```r
data("training_labels")

labels_train <- prepare_labels(training_labels)
```

## Model training
BAsed on the training features and labels, IUCNN trains a neural network, using the tensorflow module. The training is done vie the `train_iucnn` function. There are multiple options to change the design of the network, including among others the number of layers, and the fraction of records used for testing and validation. The `train_iucnn` function will write a folder to the working directory containing the model and print summary statistics to the screen.





